<h1 class="heading">Template Driven Forms</h1>
<form class="student-form" #myform="ngForm" ngForm (ngSubmit)="handleValitade(myform)">
  <div>
    <input name="name" #nameCtrl="ngModel" [(ngModel)]="mydata.name" placeholder="Enter name" type="text" required>
    <ng-container *ngIf="nameCtrl.touched">
      <span class="required-text" *ngIf="nameCtrl.errors?.['required']">
        please fill the name field</span>
    </ng-container>
  </div>

  <!-- <div>
    <input name="email" #emailCtrl="ngModel" [(ngModel)]="mydata.email" placeholder="Enter email" type="email"
     required [ngClass]="{'is-invalid': emailCtrl.invalid && emailCtrl.touched}">
    <ng-container *ngIf="emailCtrl.invalid && emailCtrl.touched">
      <span class="required-text" *ngIf="emailCtrl.errors?.['required']">
        please fill the Email field</span>
        <span class="required-text" *ngIf="emailCtrl.errors?.['email']">
          please enter a valid Email <address></address></span>
    </ng-container>
  </div> -->

  <div>
    <input name="email" [(ngModel)]="mydata.email" placeholder="Enter email" type="email" required #emailCtrl="ngModel"
      [ngClass]="{'is-invalid': emailCtrl.invalid && emailCtrl.touched}">
    <div *ngIf="emailCtrl.invalid && emailCtrl.touched" class="invalid-feedback">
      <div *ngIf="emailCtrl.errors?.['required']">Email is required.</div>
      <div *ngIf="emailCtrl.errors?.['email']">Please enter a valid email address.</div>
    </div>
  </div>
  <div>
    <input name="password" #passwordCtrl="ngModel" [(ngModel)]="mydata.password" placeholder="*******" type="password"
      required>
    <ng-container *ngIf="passwordCtrl.touched">
      <span class="required-text" *ngIf="passwordCtrl.errors?.['required']">
        please fill the Email field</span>
    </ng-container>
  </div>
  <div>
    <input name="dob" #dobCtrl="ngModel" [(ngModel)]="mydata.dob" placeholder="Enter DOB" type="date" required>
    <ng-container *ngIf="dobCtrl.touched">
      <span class="required-text" *ngIf="dobCtrl.errors?.['required']">
        please fill the Email field</span>
    </ng-container>
  </div>

  <div class="d-flex" *ngFor="let x of mydata.address; index as i">
    <input type="text" [name]="'address' + i" [(ngModel)]="mydata.address[i].doorNo">
    <button type="button" (click)="addAddress()">Add</button>
    <button type="button" (click)="removeAddress(i)">Remove</button>
  </div>

  <div>
    <button>Submit</button>
  </div>

</form>

<div>
  {{mydata | json}}
</div>